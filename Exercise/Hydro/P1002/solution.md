这个题目的算法设计得很隐蔽。它故意误导人们去想数论方面的相关知识（虽然数论知识有可能解决）。其实这道题就是最简单的 01 背包问题。选的数值就是物品的重量，背包的总载重就是 $S$，每个数的约数和就是物品的价值。题目就是一个很基本的 $O(S^2)$ 的动态规划。

代码略。